<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
    <title>opacity</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
	body,div{
		margin:0;
		padding:0;
	}
	div{
		width:200px;
		height:200px;
		background:red;
		margin:10px;
		float:left;
		fliter:alpha(opacity:30);
		opacity:0.3;
	}
	</style>
	<script>
	window.onload=function(){
		var oDiv=document.getElementsByTagName("div");
		for(var i=0;i<oDiv.length;i++){
			oDiv[i].timer = null;  //多物体同时运动不能共用一个参数
			oDiv[i].alpha = 30;
			oDiv[i].onmouseover = function(){
				startMove(this,100);
			}
			oDiv[i].onmouseout = function(){
				startMove(this,30);
			}
		}
	}
	//var alpha=30;
	function startMove(obj,iTarget){
		clearInterval(obj.timer);
		obj.timer=setInterval(function(){
			var speed=0;
			if(obj.alpha>iTarget){
				speed= -10;
			}else{
				speed=10;
			}
			if(obj.alpha===iTarget){
				clearInterval(obj.timer);
			}else{
				obj.alpha+=speed;
				obj.style.filter='alpha(opacity:'+obj.alpha+')';
				obj.style.opacity=obj.alpha/100;
			}
		},30)
	}
	</script>
</head>
<body>
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
<div id="div4"></div>
</body>